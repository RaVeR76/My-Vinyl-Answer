{% extends "layout/base.html" %}
{% block content %}
{% include "components/navigation/navigation.html" %}

    {% include 'components/flash_messages/flash_messages.html' %}

    <div class="container">
        <div class="columns col-pad">
            <div class="column is-8 is-offset-2 ">
                <div class="notification my-red is-full">
                    <p class="has-text-centered text-my-white">My Vinyl Collection</p>
                </div>

                <div class="card my-white-light">
                    <form action="" method="POST">
                        <div class="card-content">
                            <label for="vinyl_query" class="label">Vinyl Name</label>
                            <div class="columns is-vcentered">
                                
                                <div class="column is-four-fifths">
                                    <div class="control has-icons-left">
                                        <input id="vinyl_query" name="vinyl_query" class="input validate sign-bord"
                                            minlength="3" type="text" placeholder="Search" required>
                                        <span class="icon is-left">
                                            <i class="fas fa-search" aria-hidden="true"></i>
                                        </span>
                                    </div>
                                </div>
                                <div class="column is-one-fifth">
                                <div id="butt-center" class="">

                                    <a href="#"
                                        class="button my-white sign-bord">Reset</a>
                                    <a href="#"
                                        class="button my-white my-blue-font sign-bord">Search</a>
    
                                </div>
                            </div>
                            </div>
 
                        </div>
                    </form>
                </div>
                
                {% for vinyl in vinyl %}

                    {% if session.user|lower == vinyl.owner|lower %}

                    <button class="collapsible my-white-light">
                        <strong class="text-my-black">{{ vinyl.vinyl_name }}</strong>
                    </button>

                    <div class="vinyl-content">
                        <div class="columns">
                            <div class="column is-four-fifths text-my-black">
                                <p><strong>Genre :</strong> {{ vinyl.genre_name }}</p>
                                <p><strong>Artist :</strong> {{ vinyl.vinyl_artist }}</p>
                                <p><strong>Label :</strong> {{ vinyl.vinyl_label }}</p>
                                <p><strong>Description :</strong> {{ vinyl.vinyl_description }}</p>
                                <p><strong>Release Year :</strong> {{ vinyl.release_year }}</p>
                            </div>

                            <div id="butt-center" class="column is-one-fifth">

                                <a href="{{ url_for('edit_vinyl', vinyl_id=vinyl._id) }}"
                                    class="button my-white sign-bord">Edit</a>
                                <a href="{{ url_for('confirm_modal', vinyl_id=vinyl._id) }}"
                                    class="button my-white my-blue-font sign-bord">Delete</a>

                            </div>
                        </div>
                    </div>

                    {% endif %}

                {% endfor %}

            </div>
        </div>

    </div>
{% endblock %}
